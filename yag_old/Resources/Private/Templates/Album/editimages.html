{namespace yag = Tx_Yag_ViewHelpers}

<f:layout name="default" />
<f:section name="content">
    <h1></h1>
    <h2>{album.title}</h2>
    <p><f:translate key="album.editimages.infotext" /></p>

    <f:form method="post" controller="Album" action="updateImages" name="updateImages" object="{album}" arguments="{gallery : gallery, album : album}">    
	    <f:for each="{album.images}" as="image">
	        <dl>
		        <h3>{image.title}</h3>
		        {image.description}
		        <table>
                    <tr>
                        <td valign="top">
                            <img src="{image.thumb.filePath}" /><br />
                            <f:form.radio name="cover" value="{image.uid}" checked="{album.cover}=={image}"/>
                            <f:translate key="album.editimages.setImageAsCover" /><br />
                            <f:form.checkbox name="images[{image.uid}][delete]" value="1" />
                            <f:translate key="image.links.deleteImage" /><br />
                        </td>
                        <td valign="top">
                            <label for="tx_yag_pi1[images][{image.uid}][title]"><f:translate key="image.title" /></label><br />
                            <f:form.textbox name="images[{image.uid}][title]" value="{image.title}"/><br />
                            <label for="tx_yag_pi1[images][{image.uid}][description]"><f:translate key="image.description" /></label><br />
                            <f:form.textarea name="images[{image.uid}][description]" rows="5" cols="40" value="{image.description}" /><br />
                        </td>
                    </tr>
                </table>
            </dl>
        </f:for>
        <f:form.submit class="submit" value="{f:translate(key: 'general.save')}"/>
    </f:form>
    <p><f:link.action controller="Album" action="index" arguments="{gallery:gallery, album : album}"><f:translate key="album.links.backToAlbum" /></f:link.action>
    <p><f:link.action controller="Gallery" action="show" arguments="{gallery : gallery}"><f:translate key="gallery.links.backToGallery" /></f:link.action>
    <p><f:link.action controller="Gallery" action="index"><f:translate key="gallery.links.backToGalleryOverview" /></f:link.action></p>
</f:section>