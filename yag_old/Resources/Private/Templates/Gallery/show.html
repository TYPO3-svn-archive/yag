<f:layout name="default" />
<f:section name="content">
    <h1>{gallery.name}</h1>
    <f:if condition="{gallery}">
        <f:then>
            <p><f:translate key="gallery.show.infotext" /></p>
            <p>{gallery.description}</p>
            <f:if condition="{gallery.albums}">
                <f:then>
	                <f:for each="{gallery.albums}" as="album">
	                    <dd>
	                        <f:if condition="{album.cover}">
	                            <img src="{album.cover.thumb.filePath}" />
	                        </f:if> 
	                        <f:link.action controller="Album" action="index" arguments="{album : album, gallery : gallery}">{album.title} ({album.imageCount})</f:link.action>
                            <f:if condition="{userIsAdmin}">
		                        &nbsp;
		                        <f:link.action controller="Album" action="edit" arguments="{album : album, gallery : gallery}"><f:translate key="album.links.edit" /></f:link.action>
		                        &nbsp;
		                        <f:link.action controller="Album" action="delete" arguments="{album : album, gallery : gallery}"><f:translate key="album.links.delete" /></f:link.action>
	                        </f:if>
	                    </dd>
	                </f:for>
                </f:then>
                <f:else>
                    <p><f:translate key="gallery.galleryContainsNoAlbums" /></p>
                </f:else> 
            </f:if>
            <f:if condition="{userIsAdmin}">
	            <p><f:link.action controller="Gallery" action="edit" arguments="{gallery : gallery}"><f:translate key="gallery.links.edit" /></f:link.action></p>
	            <p><f:link.action controller="Gallery" action="delete" arguments="{gallery : gallery}"><f:translate key="gallery.links.delete" /></f:link.action></p>
	            <p><f:link.action controller="Album" action="new" arguments="{gallery:gallery}"><f:translate key="album.links.createNewAlbumInsideThisGallery" /></f:link.action></p>
	        </f:if>
            <p><f:link.action controller="Gallery" action="index">Back to gallery overview</f:link.action></p>
        </f:then>
        <f:else>
            <p>
                No gallery found for given UID!
            </p>
        </f:else>
    </f:if>
</f:section>