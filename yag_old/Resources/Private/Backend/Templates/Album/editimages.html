{namespace yag = Tx_Yag_ViewHelpers}

<f:layout name="default" />
<f:section name="content">
    <h1>Edit album images</h1>
    <h2>{album.title}</h2>
    <p>Edit all images of this album below:</p>

    <f:form method="post" controller="Album" action="updateImages" name="updateImages" object="{album}" arguments="{gallery:gallery}">    
	    <f:for each="{album.images}" as="image">
	        <dl>
		        <h3>{image.title}</h3>
		        <table>
                    <tr>
                        <td valign="top"><img src="{image.thumb.filePath}" />
                        <td valign="top">
                            <label for="tx_yag_pi1[image][{image.uid}][title]">Title of image:</label><br />
                            <f:form.textbox name="tx_yag_pi1[image][{image.uid}][title]" value="{image.title}"/><br />
                            <label for="tx_yag_pi1[image][{image.title}][description]">Description of image:</label><br />
                            <f:form.textarea name="tx_yag_pi1[image][{image.uid}][desription]" rows="5" cols="40">
                            {image.description}
                            </f:form.textarea><br />
                        </td>
                    </tr>
                </table>
            </dl>
        </f:for>
        <f:form.submit class="submit" value="Submit"/>
    </f:form>
    <p><f:link.action controller="Album" action="show" arguments="{gallery:gallery, album : album}">Back to album</f:link.action>
    <p><f:link.action controller="Gallery" action="show" arguments="{gallery : gallery}">Back to gallery</f:link.action>
    <p><f:link.action controller="Gallery" action="index">Back to gallery overview</f:link.action></p>
</f:section>